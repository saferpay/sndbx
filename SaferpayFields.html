<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<link rel="stylesheet" href="assets/css/vendors.css" />
	<link rel="stylesheet" href="assets/css/helppage.css">

	<title>Saferpay documentation | Integration Guide</title>
</head>
<body data-spy="scroll" data-target="#navScrollspy">

	<div id="content" class="container-fluid">
		<div>
			<nav class="hidden-xs hidden-sm hidden-md" id="navScrollspy">
				<div data-spy="affix" class="affix">

					<h3>
						<span style="font-size: x-large; font-weight: bold">Saferpay</span>
						<span class="text-primary">Integration Guide</span>
					</h3>

					<ul class="nav">
							<li>
							<a href="index.html">Introduction</a>
							<ul class="nav">
								<li><a href="#intro-requirement">Requirements</a></li>
								<li><a href="#pci">Data Security and PCI DSS</a></li>
								<li><a href="#3ds">3-D Secure</a></li>
								<li><a href="#psd2">PSD2 and 3-D Secure</a></li>
								<li><a href="#dcc">Dynamic Currency Conversion</a></li>
								<li><a href="#version">Versioning</a></li>
								<li><a href="#pm-functions">Payment Method Features</a></li>
								<li><a href="#capture-batch">Capture and Daily Closing</a></li>
								<li><a href="#capture">Capture</a></li>
								<li><a href="#closing">Daily Closing</a></li>
								<li><a href="#special">Special Cases</a></li>
								<li><a href="#reservation">Reservation-Times</a></li>
							</ul>
							</li>
							<li>
							<a href="Interfaces.html">Licenses and Interfaces</a>
							<ul class="nav">
								<li><a href="#interfaces">The Interfaces</a></li>
								<li><a href="#int-paymentmethods">Supported Payment Methods</a></li>
								<li><a href="#int-what">What should i use?</a></li>
								<li><a href="#int-questions">Questions?</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_PP.html">Payment Page Interface</a>
							<ul class="nav">
								<li><a href="#pp-initialize">PaymentPage Initialize</a></li>
								<li><a href="#pp-initialize-response">PaymentPage Initialize Response</a></li>
								<li><a href="#pp-transaction">Redirect and Transaction</a></li>
								<li><a href="#pp-retshop">Return to the Shop</a></li>
								<li><a href="#pp-assert">PaymentPage Assert</a></li>
								<li><a href="#pp-captcancel">Capture or Cancel</a></li>
								<li><a href="#pp-demo">Try it!</a></li>
							</ul>
							</li>
							<li class="active">
							<a href="SaferpayFields.html">Saferpay Fields</a>
							<ul class="nav">
								<li><a href="#hf-flow">Basic Flow</a></li>
								<li><a href="#hf-prep">Preparation</a></li>
								<li><a href="#hf-integration">Integration and Initialization</a></li>
								<li><a href="#hf-class">SaferpayFields - Class functions</a></li>
								<li><a href="#hf-example">Examples</a></li>
								<li><a href="#hf-transaction">Executing the Transaction</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_trx.html">Transaction Interface</a>
							<ul class="nav">
								<li><a href="#trx-cc">Credit Cards</a></li>
								<li><a href="#trx-ini">Transaction Initialize</a></li>
								<li><a href="#trx-iframe">RedirectUrl inside iframe</a></li>
								<li><a href="#trx-3ds">3-D Secure and DCC</a></li>
								<li><a href="#trx-retshop">Return to the Shop</a></li>
								<li><a href="#trx-ta">Transaction Authorize</a></li>
								<li><a href="#trx-captcancel">Capture or Cancel</a></li>
								<li><a href="#trx-sepa">SEPA Direct Debit</a></li>
								<li><a href="#trx-demo">Try it!</a></li>
								<li><a href="#trx-post">Using your own HTML-Form</a></li>
							</ul>
							</li>
							<li>
							<a href="scd.html">Secure Card Data</a>
							<ul class="nav">
								<li><a href="#scd-req">Requirements</a></li>
								<li><a href="#scd-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#scd-pp">Secure Card Data and the Payment Page</a></li>
								<li><a href="#scd-trx">Secure Card Data and the Transaction Interface</a></li>
								<li><a href="#scd-sa">Standalone Secure Card Data registration</a></li>
								<li><a href="#scd-check">The Check function</a></li>
								<li><a href="#scd-generator">The Id-generator</a></li>
								<li><a href="#scd-use">How to use the obtained data</a></li>
							</ul>
							</li>
							<li>
							<a href="recurring.html">Recurring Payments</a>
							<ul class="nav">
								<li><a href="#recurring-req">Requirements</a></li>
								<li><a href="#recurring-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#recurring-referenced">Referenced  Transactions Method</a></li>
								<li><a href="#recurring-auto">Automating the Recurring Payments</a></li>
							</ul>
							</li>
							<li>
							<a href="refund.html">Refunds via API</a>
							<ul class="nav">
								<li><a href="#refund-req">Requirements</a></li>
								<li><a href="#refund-reference">Method 1: Refernced refunds</a></li>
								<li><a href="#refund-demo">Try it!</a></li>
								<li><a href="#refund-alias">Method 2: Refunds using an alias</a></li>
								<li><a href="#refund-capture">Capture</a></li>
								<li><a href="#refund-cancel">Difference, between Cancel and Refund</a></li>
								<li><a href="#refund-info">Additional information</a></li>
							</ul>
							</li>
							<li>
							<a href="Inquire.html">Inquire Interface</a>
							<ul class="nav">
								<li><a href="#inquire-rules">Rules and limitations</a></li>
								<li><a href="#inquire-examples">Examples</a></li>
							</ul>
							</li>
							<li>
							<a href="app-integration.html">Mobile App integration</a>
							<ul class="nav">
								<li><a href="#mobile-process">Process</a></li>
								<li><a href="#mobile-faq">FAQ</a></li>
							</ul>
							</li>
							<li>
							<a href="CssiFrame.html">IFrame Integration and CSS</a>
							<ul class="nav">
								<li><a href="#css-iframe">Iframe Integration</a></li>
								<li><a href="#css-pp">Payment Page</a></li>
								<li><a href="#css-trxini">Transaction Initialize</a></li>
								<li><a href="#css-aliasins">Alias Insert</a></li>
								<li><a href="#css-iframe_size">Size of the Iframe</a></li>
								<li><a href="#css-usecss">Using CSS</a></li>
								<li><a href="#css-element">CSS Elements</a></li>
								<li><a href="#css-selector">CSS Selectors</a></li>
								<li><a href="#css-info">Additional Info</a></li>
							</ul>
							</li>
							<li>
							<a href="partialcaptures.html">Partial Captures</a>
							<ul class="nav">
								<li><a href="#pc-req">Requirements</a></li>
								<li><a href="#pc-exec">Executing a Multipart Capture</a></li>
								<li><a href="#pc-final">Finalizing a Capture-Chain</a></li>
								<li><a href="#pc-final-why">Why do you need to finalize a transaction?</a></li>
								<li><a href="#pc-refund">Handling Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="marketplace.html">Marketplace</a>
							<ul class="nav">
								<li><a href="#mark-req">Requirements</a></li>
								<li><a href="#mark-submerchants">Submerchants</a></li>
								<li><a href="#mark-fee">Applying Fees</a></li>
							</ul>
							</li>
							<li>
							<a href="spg.html">Secure PayGate REST API</a>
							<ul class="nav">
								<li><a href="#spg-req">Requirements</a></li>
								<li><a href="#spg-config">Secure PayGate configuration</a></li>
								<li><a href="#spg-api">The REST API</a></li>
								<li><a href="#spg-json">Connecting the JSON API</a></li>
								<li><a href="#spg-demo">Try it!</a></li>
							</ul>
							</li>
							<li>
							<a href="health.html">API Health Check</a>
							</li>
							<li>
							<a href="faq.html">FAQ</a>
							</li>
							<li>
							<a href="paymentmeans.html">Payment means for testing</a>
							<ul class="nav">
								<li><a href="#pm-visa">VISA</a></li>
								<li><a href="#pm-mc">Mastercard</a></li>
								<li><a href="#pm-amex">American Express</a></li>
								<li><a href="#pm-diners">Diners Club</a></li>
								<li><a href="#pm-maestro">Maestro international</a></li>
								<li><a href="#pm-jcb">JCB</a></li>
								<li><a href="#pm-myone">My One</a></li>
								<li><a href="#pm-bonus">Bonus Card</a></li>
								<li><a href="#pm-bc">Bancontact</a></li>
								<li><a href="#pm-sepa">SEPA Direct Debit</a></li>
								<li><a href="#pm-paypal">PayPal</a></li>
								<li><a href="#pm-twint">TWINT</a></li>
								<li><a href="#ideal-cards">iDeal</a></li>
								<li><a href="#paydirekt-cards">paydirekt</a></li>
								<li><a href="#unionpay-cards">UnionPay</a></li>
								<li><a href="#postfinance-cards">Postfinance</a></li>
								<li><a href="#applepay-cards">Apple Pay</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Demo</h4></a>
							</li>
							<li>
							<a href="https://shop.saferpay.eu/saferpayintegration" target="_blank">Saferpay Demo Environment</a>
							</li>
							<li>
								<a><h4>Payment Method specifics</h4></a>
							</li>
							<li>
							<a href="creditcards.html">Credit Cards</a>
							<ul class="nav">
								<li><a href="#cc-chase">Chase Paymentech</a></li>
							</ul>
							</li>
							<li>
							<a href="Masterpass.html">Masterpass</a>
							<ul class="nav">
								<li><a href="#mp-req">Requirements</a></li>
								<li><a href="#mp-pp">Masterpass via Payment Page</a></li>
								<li><a href="#mp-special">Special Cases</a></li>
							</ul>
							</li>
							<li>
							<a href="Twint.html">TWINT</a>
							<ul class="nav">
								<li><a href="#twint-requirement">Requirements</a></li>
								<li><a href="#twint-general">General specifics</a></li>
								<li><a href="#twint-uof">Twint User on File</a></li>
							</ul>
							</li>
							<li>
							<a href="PayPal.html">PayPal</a>
							<ul class="nav">
								<li><a href="#ppal-requirement">Requirements</a></li>
								<li><a href="#ppal-api-access">Grant API Approval for Saferpay</a></li>
								<li><a href="#ppal-capture">Capture and the solvency of the customer</a></li>
								<li><a href="#ppal-iframe">PayPal iFrame integration</a></li>
								<li><a href="#ppal-special">Other special cases</a></li>
							</ul>
							</li>
							<li>
							<a href="BillPay.html">BillPay</a>
							<ul class="nav">
								<li><a href="#bp-requirement">Requirements</a></li>
								<li><a href="#bp-approval-api">BillPay Certification via API</a></li>
								<li><a href="#bp-assert">Assert</a></li>
								<li><a href="#bp-capt">Capture</a></li>
								<li><a href="#bp-approval-bo">BillPay Certification via Saferpay Backoffice</a></li>
							</ul>
							</li>
							<li>
							<a href="PostFinance.html">Swiss Postcard</a>
							<ul class="nav">
								<li><a href="#pf-requirement">Requirements</a></li>
								<li><a href="#pf-alias">Storage in the Secure Card Data Store</a></li>
								<li><a href="#pf-regdial">Registration Dialogue</a></li>
							</ul>
							</li>
							<li>
							<a href="sofort.html">SOFORT by Klarna</a>
							<ul class="nav">
								<li><a href="#sf-requirement">Requirements</a></li>
								<li><a href="#sf-newproject">Create a new project for SOFORT</a></li>
								<li><a href="#sf-iFrame">Sofort iFrame integration</a></li>
								<li><a href="#sf-refund">SEPA manual Refunds for Sofort</a></li>
							</ul>
							</li>
							<li>
							<a href="eps.html">eps</a>
							<ul class="nav">
								<li><a href="#eps-requirement">Requirements</a></li>
								<li><a href="#eps-newproject">How toget an EPS acceptance agreement</a></li>
							</ul>
							</li>
							<li>
							<a href="paydirekt.html">paydirekt</a>
							<ul class="nav">
								<li><a href="#pd-requirement">Requirements</a></li>
								<li><a href="#pd-address">Handling of delivery address</a></li>
								<li><a href="#pd-pending">Display of pending status for bookings</a></li>
								<li><a href="#pd-note">Notification after change from pending to final status</a></li>
								<li><a href="#pd-query">Querying the transaction status</a></li>
								<li><a href="#pd-refund">Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="ideal.html">iDeal</a>
							<ul class="nav">
								<li><a href="#ideal-requirement">Requirements</a></li>
								<li><a href="#ideal-timeout">Session Timeouts</a></li>
								<li><a href="#ideal-pre">Bank Pre-Selection</a></li>
								<li><a href="#ideal-refund">SEPA manual Refunds for iDeal</a></li>
							</ul>
							</li>
							<li>
							<a href="sepa.html">SEPA</a>
							<ul class="nav">
								<li><a href="#sepa-requirement">Requirements</a></li>
								<li><a href="#sepa-refund">SEPA manual Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="eprzelewy.md.html">ePrzelewy</a>
							<ul class="nav">
								<li><a href="#przelewy-requirement">Requirements</a></li>
							</ul>
							</li>
							<li>
							<a href="Alipay.html">Alipay</a>
							<ul class="nav">
								<li><a href="#alipay-requirement">Requirements</a></li>
								<li><a href="#alipay-general">General specifics</a></li>
							</ul>
							</li>
							<li>
							<a href="bancontact.html">Bancontact</a>
							<ul class="nav">
								<li><a href="#bancontact-requirement">Requirements</a></li>
								<li><a href="#bancontact-directmode">Bancontact Direct Mode</a></li>
								<li><a href="#bancontact-refund">Bancontact Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="applepay.html">ApplePay</a>
							<ul class="nav">
								<li><a href="#apple-requirement">Requirements</a></li>
								<li><a href="#apple-activation">Activation</a></li>
								<li><a href="#apple-redirect">Direct redirect</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Additional Information</h4></a>
							</li>
							<li>
							<a href="https://www.six-payment-services.com/de/site/e-commerce/learn-more/saferpay-blog.html" target="_blank">Saferpay Blog</a>
							</li>
							<li>
							<a href="contact.html">Contact</a>
							</li>
							<li>
							<a href="http://saferpay.github.io/jsonapi/" target="_blank">API Specification</a>
							</li>
							<li>
							<a href="https://saferpay.github.io/changelog/" target="_blank">Changelog</a>
							</li>
							<li>
							<a href="glossary.html">Glossary</a>
							</li>

					</ul>
				</div>
			</nav>

			<span class="print-page-break"></span>

			<main>
				<div class="hidden-print hidden-lg">
					<div id="navCollapse">

						<button class="menu-btn" type="button" data-toggle="collapse" data-target="#menu-collapse">
							<span class="glyphicon glyphicon-menu-hamburger"></span>
							<h3 style="display: inline-block">
								<span style="font-size: x-large; font-weight: bold">Saferpay</span>
								<span class="text-primary">Integration Guide</span>
							</h3>
						</button>

					</div>

					<ul class="nav collapse" id="menu-collapse">
							<li>
							<a href="index.html">Introduction</a>
							<ul class="nav">
								<li><a href="#intro-requirement">Requirements</a></li>
								<li><a href="#pci">Data Security and PCI DSS</a></li>
								<li><a href="#3ds">3-D Secure</a></li>
								<li><a href="#psd2">PSD2 and 3-D Secure</a></li>
								<li><a href="#dcc">Dynamic Currency Conversion</a></li>
								<li><a href="#version">Versioning</a></li>
								<li><a href="#pm-functions">Payment Method Features</a></li>
								<li><a href="#capture-batch">Capture and Daily Closing</a></li>
								<li><a href="#capture">Capture</a></li>
								<li><a href="#closing">Daily Closing</a></li>
								<li><a href="#special">Special Cases</a></li>
								<li><a href="#reservation">Reservation-Times</a></li>
							</ul>
							</li>
							<li>
							<a href="Interfaces.html">Licenses and Interfaces</a>
							<ul class="nav">
								<li><a href="#interfaces">The Interfaces</a></li>
								<li><a href="#int-paymentmethods">Supported Payment Methods</a></li>
								<li><a href="#int-what">What should i use?</a></li>
								<li><a href="#int-questions">Questions?</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_PP.html">Payment Page Interface</a>
							<ul class="nav">
								<li><a href="#pp-initialize">PaymentPage Initialize</a></li>
								<li><a href="#pp-initialize-response">PaymentPage Initialize Response</a></li>
								<li><a href="#pp-transaction">Redirect and Transaction</a></li>
								<li><a href="#pp-retshop">Return to the Shop</a></li>
								<li><a href="#pp-assert">PaymentPage Assert</a></li>
								<li><a href="#pp-captcancel">Capture or Cancel</a></li>
								<li><a href="#pp-demo">Try it!</a></li>
							</ul>
							</li>
							<li class="active">
							<a href="SaferpayFields.html">Saferpay Fields</a>
							<ul class="nav">
								<li><a href="#hf-flow">Basic Flow</a></li>
								<li><a href="#hf-prep">Preparation</a></li>
								<li><a href="#hf-integration">Integration and Initialization</a></li>
								<li><a href="#hf-class">SaferpayFields - Class functions</a></li>
								<li><a href="#hf-example">Examples</a></li>
								<li><a href="#hf-transaction">Executing the Transaction</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_trx.html">Transaction Interface</a>
							<ul class="nav">
								<li><a href="#trx-cc">Credit Cards</a></li>
								<li><a href="#trx-ini">Transaction Initialize</a></li>
								<li><a href="#trx-iframe">RedirectUrl inside iframe</a></li>
								<li><a href="#trx-3ds">3-D Secure and DCC</a></li>
								<li><a href="#trx-retshop">Return to the Shop</a></li>
								<li><a href="#trx-ta">Transaction Authorize</a></li>
								<li><a href="#trx-captcancel">Capture or Cancel</a></li>
								<li><a href="#trx-sepa">SEPA Direct Debit</a></li>
								<li><a href="#trx-demo">Try it!</a></li>
								<li><a href="#trx-post">Using your own HTML-Form</a></li>
							</ul>
							</li>
							<li>
							<a href="scd.html">Secure Card Data</a>
							<ul class="nav">
								<li><a href="#scd-req">Requirements</a></li>
								<li><a href="#scd-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#scd-pp">Secure Card Data and the Payment Page</a></li>
								<li><a href="#scd-trx">Secure Card Data and the Transaction Interface</a></li>
								<li><a href="#scd-sa">Standalone Secure Card Data registration</a></li>
								<li><a href="#scd-check">The Check function</a></li>
								<li><a href="#scd-generator">The Id-generator</a></li>
								<li><a href="#scd-use">How to use the obtained data</a></li>
							</ul>
							</li>
							<li>
							<a href="recurring.html">Recurring Payments</a>
							<ul class="nav">
								<li><a href="#recurring-req">Requirements</a></li>
								<li><a href="#recurring-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#recurring-referenced">Referenced  Transactions Method</a></li>
								<li><a href="#recurring-auto">Automating the Recurring Payments</a></li>
							</ul>
							</li>
							<li>
							<a href="refund.html">Refunds via API</a>
							<ul class="nav">
								<li><a href="#refund-req">Requirements</a></li>
								<li><a href="#refund-reference">Method 1: Refernced refunds</a></li>
								<li><a href="#refund-demo">Try it!</a></li>
								<li><a href="#refund-alias">Method 2: Refunds using an alias</a></li>
								<li><a href="#refund-capture">Capture</a></li>
								<li><a href="#refund-cancel">Difference, between Cancel and Refund</a></li>
								<li><a href="#refund-info">Additional information</a></li>
							</ul>
							</li>
							<li>
							<a href="Inquire.html">Inquire Interface</a>
							<ul class="nav">
								<li><a href="#inquire-rules">Rules and limitations</a></li>
								<li><a href="#inquire-examples">Examples</a></li>
							</ul>
							</li>
							<li>
							<a href="app-integration.html">Mobile App integration</a>
							<ul class="nav">
								<li><a href="#mobile-process">Process</a></li>
								<li><a href="#mobile-faq">FAQ</a></li>
							</ul>
							</li>
							<li>
							<a href="CssiFrame.html">IFrame Integration and CSS</a>
							<ul class="nav">
								<li><a href="#css-iframe">Iframe Integration</a></li>
								<li><a href="#css-pp">Payment Page</a></li>
								<li><a href="#css-trxini">Transaction Initialize</a></li>
								<li><a href="#css-aliasins">Alias Insert</a></li>
								<li><a href="#css-iframe_size">Size of the Iframe</a></li>
								<li><a href="#css-usecss">Using CSS</a></li>
								<li><a href="#css-element">CSS Elements</a></li>
								<li><a href="#css-selector">CSS Selectors</a></li>
								<li><a href="#css-info">Additional Info</a></li>
							</ul>
							</li>
							<li>
							<a href="partialcaptures.html">Partial Captures</a>
							<ul class="nav">
								<li><a href="#pc-req">Requirements</a></li>
								<li><a href="#pc-exec">Executing a Multipart Capture</a></li>
								<li><a href="#pc-final">Finalizing a Capture-Chain</a></li>
								<li><a href="#pc-final-why">Why do you need to finalize a transaction?</a></li>
								<li><a href="#pc-refund">Handling Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="marketplace.html">Marketplace</a>
							<ul class="nav">
								<li><a href="#mark-req">Requirements</a></li>
								<li><a href="#mark-submerchants">Submerchants</a></li>
								<li><a href="#mark-fee">Applying Fees</a></li>
							</ul>
							</li>
							<li>
							<a href="spg.html">Secure PayGate REST API</a>
							<ul class="nav">
								<li><a href="#spg-req">Requirements</a></li>
								<li><a href="#spg-config">Secure PayGate configuration</a></li>
								<li><a href="#spg-api">The REST API</a></li>
								<li><a href="#spg-json">Connecting the JSON API</a></li>
								<li><a href="#spg-demo">Try it!</a></li>
							</ul>
							</li>
							<li>
							<a href="health.html">API Health Check</a>
							</li>
							<li>
							<a href="faq.html">FAQ</a>
							</li>
							<li>
							<a href="paymentmeans.html">Payment means for testing</a>
							<ul class="nav">
								<li><a href="#pm-visa">VISA</a></li>
								<li><a href="#pm-mc">Mastercard</a></li>
								<li><a href="#pm-amex">American Express</a></li>
								<li><a href="#pm-diners">Diners Club</a></li>
								<li><a href="#pm-maestro">Maestro international</a></li>
								<li><a href="#pm-jcb">JCB</a></li>
								<li><a href="#pm-myone">My One</a></li>
								<li><a href="#pm-bonus">Bonus Card</a></li>
								<li><a href="#pm-bc">Bancontact</a></li>
								<li><a href="#pm-sepa">SEPA Direct Debit</a></li>
								<li><a href="#pm-paypal">PayPal</a></li>
								<li><a href="#pm-twint">TWINT</a></li>
								<li><a href="#ideal-cards">iDeal</a></li>
								<li><a href="#paydirekt-cards">paydirekt</a></li>
								<li><a href="#unionpay-cards">UnionPay</a></li>
								<li><a href="#postfinance-cards">Postfinance</a></li>
								<li><a href="#applepay-cards">Apple Pay</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Demo</h4></a>
							</li>
							<li>
							<a href="https://shop.saferpay.eu/saferpayintegration" target="_blank">Saferpay Demo Environment</a>
							</li>
							<li>
								<a><h4>Payment Method specifics</h4></a>
							</li>
							<li>
							<a href="creditcards.html">Credit Cards</a>
							<ul class="nav">
								<li><a href="#cc-chase">Chase Paymentech</a></li>
							</ul>
							</li>
							<li>
							<a href="Masterpass.html">Masterpass</a>
							<ul class="nav">
								<li><a href="#mp-req">Requirements</a></li>
								<li><a href="#mp-pp">Masterpass via Payment Page</a></li>
								<li><a href="#mp-special">Special Cases</a></li>
							</ul>
							</li>
							<li>
							<a href="Twint.html">TWINT</a>
							<ul class="nav">
								<li><a href="#twint-requirement">Requirements</a></li>
								<li><a href="#twint-general">General specifics</a></li>
								<li><a href="#twint-uof">Twint User on File</a></li>
							</ul>
							</li>
							<li>
							<a href="PayPal.html">PayPal</a>
							<ul class="nav">
								<li><a href="#ppal-requirement">Requirements</a></li>
								<li><a href="#ppal-api-access">Grant API Approval for Saferpay</a></li>
								<li><a href="#ppal-capture">Capture and the solvency of the customer</a></li>
								<li><a href="#ppal-iframe">PayPal iFrame integration</a></li>
								<li><a href="#ppal-special">Other special cases</a></li>
							</ul>
							</li>
							<li>
							<a href="BillPay.html">BillPay</a>
							<ul class="nav">
								<li><a href="#bp-requirement">Requirements</a></li>
								<li><a href="#bp-approval-api">BillPay Certification via API</a></li>
								<li><a href="#bp-assert">Assert</a></li>
								<li><a href="#bp-capt">Capture</a></li>
								<li><a href="#bp-approval-bo">BillPay Certification via Saferpay Backoffice</a></li>
							</ul>
							</li>
							<li>
							<a href="PostFinance.html">Swiss Postcard</a>
							<ul class="nav">
								<li><a href="#pf-requirement">Requirements</a></li>
								<li><a href="#pf-alias">Storage in the Secure Card Data Store</a></li>
								<li><a href="#pf-regdial">Registration Dialogue</a></li>
							</ul>
							</li>
							<li>
							<a href="sofort.html">SOFORT by Klarna</a>
							<ul class="nav">
								<li><a href="#sf-requirement">Requirements</a></li>
								<li><a href="#sf-newproject">Create a new project for SOFORT</a></li>
								<li><a href="#sf-iFrame">Sofort iFrame integration</a></li>
								<li><a href="#sf-refund">SEPA manual Refunds for Sofort</a></li>
							</ul>
							</li>
							<li>
							<a href="eps.html">eps</a>
							<ul class="nav">
								<li><a href="#eps-requirement">Requirements</a></li>
								<li><a href="#eps-newproject">How toget an EPS acceptance agreement</a></li>
							</ul>
							</li>
							<li>
							<a href="paydirekt.html">paydirekt</a>
							<ul class="nav">
								<li><a href="#pd-requirement">Requirements</a></li>
								<li><a href="#pd-address">Handling of delivery address</a></li>
								<li><a href="#pd-pending">Display of pending status for bookings</a></li>
								<li><a href="#pd-note">Notification after change from pending to final status</a></li>
								<li><a href="#pd-query">Querying the transaction status</a></li>
								<li><a href="#pd-refund">Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="ideal.html">iDeal</a>
							<ul class="nav">
								<li><a href="#ideal-requirement">Requirements</a></li>
								<li><a href="#ideal-timeout">Session Timeouts</a></li>
								<li><a href="#ideal-pre">Bank Pre-Selection</a></li>
								<li><a href="#ideal-refund">SEPA manual Refunds for iDeal</a></li>
							</ul>
							</li>
							<li>
							<a href="sepa.html">SEPA</a>
							<ul class="nav">
								<li><a href="#sepa-requirement">Requirements</a></li>
								<li><a href="#sepa-refund">SEPA manual Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="eprzelewy.md.html">ePrzelewy</a>
							<ul class="nav">
								<li><a href="#przelewy-requirement">Requirements</a></li>
							</ul>
							</li>
							<li>
							<a href="Alipay.html">Alipay</a>
							<ul class="nav">
								<li><a href="#alipay-requirement">Requirements</a></li>
								<li><a href="#alipay-general">General specifics</a></li>
							</ul>
							</li>
							<li>
							<a href="bancontact.html">Bancontact</a>
							<ul class="nav">
								<li><a href="#bancontact-requirement">Requirements</a></li>
								<li><a href="#bancontact-directmode">Bancontact Direct Mode</a></li>
								<li><a href="#bancontact-refund">Bancontact Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="applepay.html">ApplePay</a>
							<ul class="nav">
								<li><a href="#apple-requirement">Requirements</a></li>
								<li><a href="#apple-activation">Activation</a></li>
								<li><a href="#apple-redirect">Direct redirect</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Additional Information</h4></a>
							</li>
							<li>
							<a href="https://www.six-payment-services.com/de/site/e-commerce/learn-more/saferpay-blog.html" target="_blank">Saferpay Blog</a>
							</li>
							<li>
							<a href="contact.html">Contact</a>
							</li>
							<li>
							<a href="http://saferpay.github.io/jsonapi/" target="_blank">API Specification</a>
							</li>
							<li>
							<a href="https://saferpay.github.io/changelog/" target="_blank">Changelog</a>
							</li>
							<li>
							<a href="glossary.html">Glossary</a>
							</li>

					</ul>
				</div>

				
<section><h1>Saferpay Fields</h1><div class="row"><div class="col-sm-6"><div class="warning">
  <span class="glyphicon glyphicon-exclamation-sign" style="color: rgb(240, 169, 43);font-size: 55px;height: 75px;float: left;margin-right: 15px;margin-top: 0px;"></span>
  <p><strong>VERY IMPORTANT:</strong> Before you start integrating this flow, make sure, you have read the <a target="_blank" href="index.html">the Introduction</a> and <a target="_blank" href="interfaces.html">Licenses and Interfaces</a> chapters. They contain general and vital information, not only about the JSON-API, but also for you, the merchant!</p>
</div><p>The Saferpay Fields grant you the flexibility of your own HTML-form, whilst being 100% PCI SAQ-A compliant.</p><p>The main idea is, to split the classic card entry form into its components, namely the inputs for the PAN, CVC, Expiration and Holder Name. These fields will be hosted on Saferpay-side, making sure, that the data is captured by a fully PCI-certified system, while offering you a level of flexibility and the possibilities, similar to using your own form.</p><p>This chapter will cover the integration and preperations necessary, to work with the Saferpay Fields.</p></div></div></section><section><h2>Supported Payment Methods</h2><div class="row"><div class="col-sm-6"><ul>
<li>Visa/VPay</li>
<li>Mastercard</li>
<li>Maestro</li>
<li>American Express</li>
<li>Bancontact</li>
<li>Diners Club</li>
<li>JCB</li>
<li>Bonus Card</li>
<li>MyOne</li>
</ul></div></div></section><section id="hf-flow"><h1><a name="hf-flow"></a> Basic Flow</h1><div class="row"><div class="col-sm-6"><p>This is the basic Saferpay Fields flow.</p><p><img src="https://raw.githubusercontent.com/saferpay/sndbx/master/images/saferpay-fields-flow.png" alt="alt text" title="Saferpay Fields flow"></p><ol>
<li>The card holder navigates to the checkout</li>
<li>The shop frontend calls <strong>SaferpayFields.Init()</strong> (See Integration and Initialization &gt; Hosted Fields Initialization) and the Hosted Fields Javascript library initializes the iFrames.</li>
<li>Once initialized, the library will replace the placeholders with the correct iFrame inputs, which then are presented to the card holder.</li>
<li>The card holder enters his card details and clicks &quot;Submit&quot;, on which the Webshop executes the <strong>SaferpayFields.submit()</strong> function.</li>
<li>The Saferpay Fields Javascript library then submits the iFrames, which sends the card details towards Saferpay.</li>
<li>Saferpay caches the card details <strong>for a maximum of 20 minutes</strong> and generates a token, which is then used to reference said means of payment.</li>
<li>The token is forwarded and the <strong>SaferpayFields.submit(); onSuccess callback</strong> is called, so the token may be captured and processed further.</li>
<li>The token then has to be forwarded to serverside. How you do that, is up to you. Methods like for example a redirect or AJAX are possible. Once on serverside, the token is then used to initialize the transaction itself, <a href="Integration_trx.html"> following the normal Transaction Interface flow.</a> Please refer to that chapter on further information, about how to submit the token through the JSON-API and execute the transaction itself.</li>
</ol></div></div></section><section id="hf-prep"><h1><a name="hf-prep"></a> Preparation</h1><div class="row"><div class="col-sm-6"><p>Before you can start integrating the Saferpay Fields, you need to create an API Token.
To do so, you need to log into the Saferpay Backoffice. Navigate to <strong>Settings &gt; Saferpay Fields Access Tokens</strong>. There, please click on <strong>Create Saferpay Fields Access Token</strong>. The following window will pop-up:</p><p><img src="https://raw.githubusercontent.com/saferpay/sndbx/master/images/fields-create-api-key.png" alt="alt text" title="New API Key mask"></p><div class="warning">
  <span class="glyphicon glyphicon-exclamation-sign" style="color: rgb(240, 169, 43);font-size: 55px;height: 75px;float: left;margin-right: 15px;margin-top: 0px;"></span>
  <p>
    <strong>Very Important:</strong> Saferpay will indeed validate the used Source-URL and the used TerminalId! It is enough to just enter the base-url, of your shop here. If you use multiple terminals, you have to generate more API-Keys for each terminal. <strong>HTTPS IS MANDATORY</strong> and will be checked!<br> Should you have misconfigured the access-token, the <strong>.init({options}) - onError</strong> callback will be triggered, returning an <strong>&quot;Access forbidden!&quot;</strong> message. Make sure, you've set the correct URL, for the system you are currently running on, especially during integration and then later deployment!
  </p>
</div><p>Once created, you will be presented with a basic integration-example:
<img src="https://raw.githubusercontent.com/saferpay/sndbx/master/images/fields-api-key.png" alt="alt text" title="API Key"></p><div class="warning">
  <span class="glyphicon glyphicon-exclamation-sign" style="color: rgb(240, 169, 43);font-size: 55px;height: 75px;float: left;margin-right: 15px;margin-top: 0px;"></span>
  <p>
    <strong>Very Important:</strong> Once you move from the Test-Environment to the Live-Environment, you need to create a new Access Token on your live account!
  </p>
</div></div></div></section><section id="hf-integration"><h1><a name="hf-integration"></a> Integration and Initialization</h1><div class="row"><div class="col-sm-6"><p>After you have created your API-Token, you can start integrating the Saferpay Fields into your site.</p></div></div></section><section><h3>Include the Saferpay Fields Javascript library into your site</h3><div class="row"><div class="col-sm-6"><pre><code class="language-html">&lt;script src=&quot;'https://test.saferpay.com/Fields/lib/1.0/saferpay-fields.js'&quot;&gt;&lt;/script&gt; &lt;!-- For Test-Environment--&gt;
&lt;!-- OR --&gt;
&lt;script src=&quot;'https://www.saferpay.com/Fields/lib/1.0/saferpay-fields.js'&quot;&gt;&lt;/script&gt; &lt;!-- For Live-Environment--&gt;
</code></pre></div></div></section><section><h3>Define, where Saferpay should load the Hosted Fields</h3><div class="row"><div class="col-sm-6"><pre><code class="language-html">    &lt;div class=&quot;row&quot;&gt;
	&lt;div class=&quot;col-md-12 field&quot;&gt;
	    &lt;div id=&quot;fields-holder-name&quot;&gt;&lt;/div&gt;
	&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;row&quot;&gt;
	&lt;div class=&quot;col-md-12 field&quot;&gt;
	    &lt;div id=&quot;fields-card-number&quot;&gt;&lt;/div&gt;
	&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;row&quot;&gt;
	&lt;div class=&quot;col-md-7 field&quot;&gt;
	    &lt;div id=&quot;fields-expiration&quot;&gt;&lt;/div&gt;
	&lt;/div&gt;
	&lt;div class=&quot;col-md-5 field&quot;&gt;
	    &lt;div id=&quot;fields-cvc&quot;&gt;&lt;/div&gt;
	&lt;/div&gt;
    &lt;/div&gt;
</code></pre><p>This example uses Bootstrap for formatting purposes, which isn't mandatory. You also can define these fields wherever and however you want.
However you must make sure, that you define the placeholders -can be <code>&lt;div&gt;</code>, <code>&lt;span&gt;</code>, or <code>&lt;input readonly&gt;</code>- with the following id-values:</p><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th class="text-center">Input-Field</th>
      <th class="text-center">id-Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Card Holder Name</td>
      <td>fields-holder-name</td>
    </tr>
    <tr>
      <td>Card Number</td>
      <td>fields-card-number</td>
    </tr>
    <tr>
      <td>CVC</td>
      <td>fields-cvc</td>
    </tr>
    <tr>
      <td>Expiration</td>
      <td>fields-expiration</td>
    </tr>
  </tbody>
</table><div class="warning">
  <span class="glyphicon glyphicon-exclamation-sign" style="color: rgb(240, 169, 43);font-size: 55px;height: 75px;float: left;margin-right: 15px;margin-top: 0px;"></span>
  <p>
    <strong>Important:</strong> The placeholder must have a height &gt; 0, or the iframe will inherit this height!
  </p>
</div></div></div></section><section><h3>Saferpay Fields Initialization</h3><div class="row"><div class="col-sm-6"><pre><code class="language-javascript">SaferpayFields.init({
	// api key
	apiKey: '[YOUR API KEY]',
	// api url
	url: 'https://test.saferpay.com/Fields/[YOUR CUSTOMERID]',
	style: {
	    '.form-control': 'border: none; border-bottom: solid 1px #ccc; border-radius: unset;'
	},
	onSuccess: function() {
	    //Callback on successful Init
	},
	onError: function(evt) {
	    //Callback on unsuccessful Init
	},
	placeholders: {
		//Custom Text for Input placeholders
	    holdername: 'Card holder',
	    cardnumber: '0000 0000 0000 0000',
	    expiration: 'MM/YY',
	    cvc: 'CVC'
	},
	onBlur: function (evt) {
	    //Callback on blur (Card Holder leaves field)
	},
	onValidated: function(evt) {
	    //Callback similar to on blur (Card Holder leaves field), but explicitly delivers validation data
	},
	onFocus: function (evt) {
	    //Callback on focus (Card Holder clicks into field)
	}
});

// submit(); sends the entered hosted fields data to Saferpay.
SaferpayFields.submit({
	onSuccess: function(evt) {
	    //Callback on successful Submit
	},
	onError: function(evt) {
	    //Callback on unsuccessful Submit
	}
});
</code></pre></div></div></section><section id="hf-class"><h1><a name="hf-class"></a> SaferpayFields - Class functions</h1><div class="row"><div class="col-sm-6"><p></p></div></div></section><section><h2>.version()</h2><div class="row"><div class="col-sm-6"><p></p><p>Returns a <strong>string</strong> containing the current library-version.</p><p></p></div></div></section><section><h2>.init({options})</h2><div class="row"><div class="col-sm-6"><p></p><p>Initializes the Saferpay Fields and replaces the placeholders, as defined before.</p></div></div></section><section><h3>Available options</h3><div class="row"><div class="col-sm-6"><ul>
<li><p><strong>apiKey</strong> <em>string</em> : Contains the API-Key, you have defined inside the Saferpay Backoffice earlier.</p>
</li>
<li><p><strong>url</strong> <em>string</em> : Contains the API-Url, to define, where to post the data and initialize the Saferpay Fields.</p>
</li>
</ul><pre><code class="language-javascript">// Test Environment
	url: 'https://test.saferpay.com/Fields/[YOUR CUSTOMERID]',
// Live Environment
	url: 'https://www.saferpay.com/Fields/[YOUR CUSTOMERID]',
</code></pre><ul>
<li><strong>onBlur</strong> <em>eventCallback</em> : Callback function, that is executed, should the customer leave the field. The event returns a <strong>Callback message</strong>.</li>
<li><strong>onValidated</strong> <em>eventCallback</em> : Callback function, that is executed, should the customer leave the field. The event returns a <strong>Callback message</strong>, also containing field validation-data.</li>
<li><strong>onFocus</strong> <em>eventCallback</em> : Callback function, that is executed, should the customer enter the field. The event returns a <strong>Callback message</strong>.</li>
<li><strong>onSuccess</strong> <em>eventCallback</em> : Callback function, that is executed, every time, the Saferpay Fields have been loaded successfully.</li>
<li><strong>onError</strong> <em>eventCallback</em> : Callback function, that is executed, every time, the initialization of the Saferpay Fields has not been successful. The event returns an <strong>Error Callback Message</strong>.</li>
<li><strong>style</strong> <em>Object</em> : Object, that defines CSS rules, to be applied to all elements.
<strong>Example:</strong></li>
</ul><pre><code class="language-javascript">style: {
	'.form-control': 'border: none; border-bottom: solid 1px #ccc; border-radius: unset;'
}
</code></pre><ul>
<li><strong>cssUrl</strong> <em>String</em> : Url to an external CSS, to be applied to all elements.</li>
<li><strong>placeholders</strong> <em>Object</em> : Object, that contains custom placeholder text, to be applied to the inputs.
<strong>Example:</strong></li>
</ul><pre><code class="language-javascript">placeholders: {
    //Custom Text for Input placeholders
    holdername: 'Card holder',
    cardnumber: '0000 0000 0000 0000',
    expiration: 'MM/YY',
    cvc: 'CVC'
},
</code></pre><p></p></div></div></section><section><h2>.submit({options})</h2><div class="row"><div class="col-sm-6"><p></p><p>Submits the Saferpay Fields.</p></div></div></section><section><h3>Available options</h3><div class="row"><div class="col-sm-6"><ul>
<li><p><strong>onSuccess</strong> <em>eventCallback</em> : Callback function, that is executed, if the Saferpay Fields have been submitted successfully. The event returns a <strong>Submit Success Callback Message</strong>.</p>
</li>
<li><p><strong>onError</strong> <em>eventCallback</em> : Callback function, that is executed, if the Saferpay Fields have not been successfully submitted. The event returns an <strong>Error Callback Message</strong>.</p>
</li>
</ul></div></div></section><section><h2>Callback Messages</h2><div class="row"><div class="col-sm-6"><p>Saferpay returns certain data to the application, in case of certain <strong>eventCallback</strong>s.</p><p><strong>Callback Message</strong> <em>Object</em> :
Callback message on normal event, containing the following data:</p><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th class="text-center">Parameter</th>
      <th class="text-center">Type</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>event</td>
      <td>String</td>
      <td>Name of the event, that occured.</td>
    </tr>
    <tr>
      <td>fieldType</td>
      <td>String</td>
      <td>Type of the field affected.</td>
    </tr>
    <tr>
      <td>id</td>
      <td>String</td>
      <td>Id of the field affected.</td>
    </tr>
    <tr>
      <td>isValid</td>
      <td>Boolean</td>
	    <td>Validity of the field affected. (<strong>onValidated</strong> callback only!)</td>
    </tr>
  </tbody>
</table><p><strong>Error Callback Message</strong> <em>Object</em> :
Callback message on error event, containing the following data:</p><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th class="text-center">Parameter</th>
      <th class="text-center" style="width: 60px;">Type</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>String</td>
      <td>A human-readable explanation specific to this occurrence of the problem.</td>
    </tr>
  </tbody>
</table><p><strong>Submit Success Callback Message</strong> <em>Object</em> :</p><p>Callback message on a successful submit, containing the following data:</p><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th class="text-center">Parameter</th>
      <th class="text-center">Type</th>
      <th class="text-center">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>token</td>
      <td>String</td>
	    <td>The Saferpay Fields Token, later to be referenced by <a href="https://saferpay.github.io/jsonapi/index.html#Payment_v1_Transaction_Initialize">Transaction Initialize</a>, to execute the payment itself.</td>
    </tr>
  </tbody>
</table></div></div></section><section><h3>Browser Support</h3><div class="row"><div class="col-sm-6"><p>Saferpay Hosted Fields are supported by the following Browsers:</p><ul>
  <li>Chrome latest</li>
  <li>Firefox latest</li>
  <li>Internet Explorer XXX</li>
  <li>Safari latest</li>
</ul></div></div></section><section id="hf-example"><h1><a name="hf-example"></a> Examples</h1><div class="row"><div class="col-sm-6"><p>Here you can see some examples of how the Hosted Fields may be integrated. Feel free to use this code, if you have trouble integrating.</p><div class="info">
  <p><strong>Note:</strong> If you want to test Saferpay Hosted Fields, you can eddit all examples in JSFiddle. Please click on the link on the upper right side of the examples: <i>Edit in JSFiddle</i></p>
</div><h4>Init Sample</h4><iframe width="1000px" height="400" src="https://jsfiddle.net/saferpay/gnr0k1o9/embedded/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe><h4>Sample 1</h4><iframe width="1000px" height="620" src="https://jsfiddle.net/saferpay/o8qb0ghv/embedded/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe><h4>Sample 2</h4><iframe width="1000px" height="470" src="https://jsfiddle.net/saferpay/xt83g4r2/embedded/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe></div></div></section><section id="hf-transaction"><h1><a name="hf-transaction"></a> Executing the Transaction</h1><div class="row"><div class="col-sm-6"><p>It is important to understand, that the Saferpay Fields are just a way to capture the card details, but not to execute the transaction itself. That is done via the <a href="Integration_trx.html">Transaction Interface</a>.
Once the <strong>onSuccess</strong> event is called, you need to forward the Hosted Fields token to your server-backend, in order to initialize the transaction itself and also gather the <strong>RedirectUrl</strong>, to perform things like 3D Secure and DCC. How you move the token to the backend is completely up to you.
You can provide the onSuccess event with an AJAX-method to execute the initialize in the background on a successful submit and forward the <strong>RedirectUrl</strong> to the fronent for a redirect this way, which you then can open in an iFrame, Lightbox, or as a full redirect.
However a redirect via GET, or POST, towards your initialize-script, is also an option, of course.
Refer to the above mentioned chapter, to learn, how to initialize a transaction, using a Hosted Fields token.</p><div class="warning">
  <span class="glyphicon glyphicon-exclamation-sign" style="color: rgb(240, 169, 43);font-size: 55px;height: 75px;float: left;margin-right: 15px;margin-top: 0px;"></span>
  <p>
    <strong>Important:</strong> This process has to be finished within 20 minutes, after the submission of the card details. Saferpay will discard the card details afterwards and the Saferpay Fields token becomes invalid!
  </p>
</div><p></p></div></div></section><section><h2> Want to see a fully working example?</h2><div class="row"><div class="col-sm-6"><a class="demobtn" href="https://shop.saferpay.eu/saferpayintegration">Click here for a live demo!</a><p></p></div></div></section>

			</main>

		</div>
	</div>

	<div class="scroll-top-wrapper">
		<a href="#top" class="scroll-top-inner" onclick="$('html,body').animate({ scrollTop: 0 }, 'slow'); return false;">
			<span class="glyphicon glyphicon-chevron-up"></span> Back to Top
		</a>
	</div>

	<script src="assets/js/vendors.js"></script>
	<script src="assets/js/helppage.js"></script>
</body>
</html>


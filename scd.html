<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<link rel="stylesheet" href="assets/css/vendors.css" />
	<link rel="stylesheet" href="assets/css/helppage.css">

	<title>Saferpay documentation | Integration Guide</title>
</head>
<body data-spy="scroll" data-target="#navScrollspy">

	<div id="content" class="container-fluid">
		<div>
			<nav class="hidden-xs hidden-sm hidden-md" id="navScrollspy">
				<div data-spy="affix" class="affix">

					<h3>
						<span style="font-size: x-large; font-weight: bold">Saferpay</span>
						<span class="text-primary">Integration Guide</span>
					</h3>

					<ul class="nav">
							<li>
							<a href="index.html">Introduction</a>
							<ul class="nav">
								<li><a href="#intro-requirement">Requirements</a></li>
								<li><a href="#pci">Data Security and PCI DSS</a></li>
								<li><a href="#3ds">3-D Secure</a></li>
								<li><a href="#dcc">Dynamic Currency Conversion</a></li>
								<li><a href="#version">Versioning</a></li>
								<li><a href="#pm-functions">Payment Method Features</a></li>
								<li><a href="#capture-batch">Capture and Daily Closing</a></li>
								<li><a href="#capture">Capture</a></li>
								<li><a href="#closing">Daily Closing</a></li>
								<li><a href="#special">Special Cases</a></li>
								<li><a href="#reservation">Reservation-Times</a></li>
							</ul>
							</li>
							<li>
							<a href="Interfaces.html">Licenses and Interfaces</a>
							<ul class="nav">
								<li><a href="#interfaces">The Interfaces</a></li>
								<li><a href="#int-paymentmethods">Supported Payment Methods</a></li>
								<li><a href="#int-what">What should i use?</a></li>
								<li><a href="#int-questions">Questions?</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_PP.html">Payment Page Interface</a>
							<ul class="nav">
								<li><a href="#pp-initialize">PaymentPage Initialize</a></li>
								<li><a href="#pp-initialize-response">PaymentPage Initialize Response</a></li>
								<li><a href="#pp-transaction">Redirect and Transaction</a></li>
								<li><a href="#pp-retshop">Return to the Shop</a></li>
								<li><a href="#pp-assert">PaymentPage Assert</a></li>
								<li><a href="#pp-captcancel">Capture or Cancel</a></li>
								<li><a href="#pp-demo">Try it!</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_trx.html">Transaction Interface</a>
							<ul class="nav">
								<li><a href="#trx-cc">Credit Cards</a></li>
								<li><a href="#trx-ini">Transaction Initialize</a></li>
								<li><a href="#trx-iframe">RedirectUrl inside iframe</a></li>
								<li><a href="#trx-3ds">3-D Secure and DCC</a></li>
								<li><a href="#trx-retshop">Return to the Shop</a></li>
								<li><a href="#trx-ta">Transaction Authorize</a></li>
								<li><a href="#trx-captcancel">Capture or Cancel</a></li>
								<li><a href="#trx-sepa">SEPA Direct Debit</a></li>
								<li><a href="#trx-demo">Try it!</a></li>
								<li><a href="#trx-post">Using your own HTML-Form</a></li>
							</ul>
							</li>
							<li class="active">
							<a href="scd.html">Secure Card Data</a>
							<ul class="nav">
								<li><a href="#scd-req">Requirements</a></li>
								<li><a href="#scd-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#scd-pp">Secure Card Data and the Payment Page</a></li>
								<li><a href="#scd-trx">Secure Card Data and the Transaction Interface</a></li>
								<li><a href="#scd-sa">Standalone Secure Card Data registration</a></li>
								<li><a href="#scd-demo">Try it!</a></li>
								<li><a href="#scd-generator">The Id-generator</a></li>
								<li><a href="#scd-check">The Check function</a></li>
								<li><a href="#scd-use">How to use the obtained data</a></li>
							</ul>
							</li>
							<li>
							<a href="recurring.html">Recurring Payments</a>
							<ul class="nav">
								<li><a href="#recurring-req">Requirements</a></li>
								<li><a href="#recurring-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#recurring-referenced">Referenced  Transactions Method</a></li>
								<li><a href="#recurring-alias">Recurring Payments using an alias</a></li>
								<li><a href="#recurring-auto">Automating the Recurring Payments</a></li>
							</ul>
							</li>
							<li>
							<a href="refund.html">Refunds via API</a>
							<ul class="nav">
								<li><a href="#refund-req">Requirements</a></li>
								<li><a href="#refund-reference">Method 1: Refernced refunds</a></li>
								<li><a href="#refund-demo">Try it!</a></li>
								<li><a href="#refund-alias">Method 2: Refunds using an alias</a></li>
								<li><a href="#refund-capture">Capture</a></li>
								<li><a href="#refund-cancel">Difference, between Cancel and Refund</a></li>
								<li><a href="#refund-info">Additional information</a></li>
							</ul>
							</li>
							<li>
							<a href="app-integration.html">Mobile App integration</a>
							<ul class="nav">
								<li><a href="#mobile-process">Process</a></li>
								<li><a href="#mobile-faq">FAQ</a></li>
							</ul>
							</li>
							<li>
							<a href="CssiFrame.html">IFrame Integration and CSS</a>
							<ul class="nav">
								<li><a href="#css-iframe">Iframe Integration</a></li>
								<li><a href="#css-pp">Payment Page</a></li>
								<li><a href="#css-trxini">Transaction Initialize</a></li>
								<li><a href="#css-aliasins">Alias Insert</a></li>
								<li><a href="#css-iframe_size">Size of the Iframe</a></li>
								<li><a href="#css-usecss">Using CSS</a></li>
								<li><a href="#css-element">CSS Elements</a></li>
								<li><a href="#css-selector">CSS Selectors</a></li>
								<li><a href="#css-info">Additional Info</a></li>
							</ul>
							</li>
							<li>
							<a href="marketplace.html">Marketplace and Partial Captures</a>
							<ul class="nav">
								<li><a href="#pc-partial">Partial Captures</a></li>
								<li><a href="#pc-final">Finalizing a Capture-Chain</a></li>
								<li><a href="#pc-final-why">Why do you need to finalize a transaction?</a></li>
								<li><a href="#pc-submerchants">Submerchants</a></li>
								<li><a href="#pc-refunds">Handling Refunds</a></li>
								<li><a href="#pc-fee">Applying Fees</a></li>
							</ul>
							</li>
							<li>
							<a href="fraud_free.html">Fraud Free Service</a>
							<ul class="nav">
								<li><a href="#ff-response">API Response</a></li>
								<li><a href="#ff-status">Status Change</a></li>
								<li><a href="#ff-mandatory">Mandatory Data Points</a></li>
							</ul>
							</li>
							<li>
							<a href="faq.html">FAQ</a>
							</li>
							<li>
							<a href="paymentmeans.html">Payment means for testing</a>
							<ul class="nav">
								<li><a href="#pm-visa">VISA</a></li>
								<li><a href="#pm-mc">Mastercard</a></li>
								<li><a href="#pm-amex">American Express</a></li>
								<li><a href="#pm-diners">Diners Club</a></li>
								<li><a href="#pm-maestro">Maestro international</a></li>
								<li><a href="#pm-jcb">JCB</a></li>
								<li><a href="#pm-myone">My One</a></li>
								<li><a href="#pm-bonus">Bonus Card</a></li>
								<li><a href="#pm-bc">Bancontact</a></li>
								<li><a href="#pm-sepa">SEPA Direct Debit</a></li>
								<li><a href="#pm-paypal">PayPal</a></li>
								<li><a href="#pm-twint">TWINT</a></li>
								<li><a href="#ideal-cards">iDeal</a></li>
								<li><a href="#paydirekt-cards">paydirekt</a></li>
								<li><a href="#unionpay-cards">UnionPay</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Demo</h4></a>
							</li>
							<li>
							<a href="pp_demo.html">Payment Page</a>
							</li>
							<li>
							<a href="trx_demo.html">Transaction interface</a>
							</li>
							<li>
							<a href="scd_demo.html">Secure Card Data</a>
							</li>
							<li>
							<a href="refund_demo.html">Refunds</a>
							</li>
							<li>
								<a><h4>Payment Method specifics</h4></a>
							</li>
							<li>
							<a href="creditcards.html">Credit Cards</a>
							<ul class="nav">
								<li><a href="#cc-chase">Chase Paymentech</a></li>
							</ul>
							</li>
							<li>
							<a href="Masterpass.html">Masterpass</a>
							<ul class="nav">
								<li><a href="#mp-req">Requirements</a></li>
								<li><a href="#mp-pp">Masterpass via Payment Page</a></li>
								<li><a href="#mp-special">Special Cases</a></li>
							</ul>
							</li>
							<li>
							<a href="Twint.html">TWINT</a>
							<ul class="nav">
								<li><a href="#twint-requirement">Requirements</a></li>
								<li><a href="#twint-general">General specifics</a></li>
							</ul>
							</li>
							<li>
							<a href="PayPal.html">PayPal</a>
							<ul class="nav">
								<li><a href="#ppal-requirement">Requirements</a></li>
								<li><a href="#ppal-api-access">Grant API Approval for Saferpay</a></li>
								<li><a href="#ppal-merchant-protection">Seller Protection</a></li>
								<li><a href="#ppal-partial-capture">Partial Capture</a></li>
								<li><a href="#ppal-capture">Capture and the solvency of the customer</a></li>
								<li><a href="#ppal-iframe">PayPal iFrame integration</a></li>
								<li><a href="#ppal-special">Other special cases</a></li>
							</ul>
							</li>
							<li>
							<a href="BillPay.html">BillPay</a>
							<ul class="nav">
								<li><a href="#bp-requirement">Requirements</a></li>
								<li><a href="#bp-approval-api">BillPay Certification via API</a></li>
								<li><a href="#bp-assert">Assert</a></li>
								<li><a href="#bp-capt">Capture</a></li>
								<li><a href="#bp-approval-bo">BillPay Certification via Saferpay Backoffice</a></li>
							</ul>
							</li>
							<li>
							<a href="PostFinance.html">Swiss Postcard</a>
							<ul class="nav">
								<li><a href="#pf-requirement">Requirements</a></li>
								<li><a href="#pf-alias">Storage in the Secure Card Data Store</a></li>
								<li><a href="#pf-regdial">Registration Dialogue</a></li>
							</ul>
							</li>
							<li>
							<a href="sofort.html">SOFORT by Klarna</a>
							<ul class="nav">
								<li><a href="#sf-requirement">Requirements</a></li>
								<li><a href="#sf-newproject">Create a new project for SOFORT</a></li>
								<li><a href="#sf-iFrame">Sofort iFrame integration</a></li>
							</ul>
							</li>
							<li>
							<a href="eps.html">eps</a>
							<ul class="nav">
								<li><a href="#eps-requirement">Requirements</a></li>
								<li><a href="#eps-newproject">How toget an EPS acceptance agreement</a></li>
							</ul>
							</li>
							<li>
							<a href="paydirekt.html">paydirekt</a>
							<ul class="nav">
								<li><a href="#pd-requirement">Requirements</a></li>
								<li><a href="#pd-address">Handling of delivery address</a></li>
								<li><a href="#pd-pending">Display of pending status for bookings</a></li>
								<li><a href="#pd-note">Notification after change from pending to final status</a></li>
								<li><a href="#pd-query">Querying the transaction status</a></li>
								<li><a href="#pd-refund">Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="ideal.html">iDeal</a>
							<ul class="nav">
								<li><a href="#ideal-timeout">Session Timeouts</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Additional Information</h4></a>
							</li>
							<li>
							<a href="contact.html">Contact</a>
							</li>
							<li>
							<a href="http://saferpay.github.io/jsonapi/" target="_blank">API Specification</a>
							</li>

					</ul>
				</div>
			</nav>

			<span class="print-page-break"></span>

			<main>
				<div class="hidden-print hidden-lg">
					<div id="navCollapse">

						<button class="menu-btn" type="button" data-toggle="collapse" data-target="#menu-collapse">
							<span class="glyphicon glyphicon-menu-hamburger"></span>
							<h3 style="display: inline-block">
								<span style="font-size: x-large; font-weight: bold">Saferpay</span>
								<span class="text-primary">Integration Guide</span>
							</h3>
						</button>

					</div>

					<ul class="nav collapse" id="menu-collapse">
							<li>
							<a href="index.html">Introduction</a>
							<ul class="nav">
								<li><a href="#intro-requirement">Requirements</a></li>
								<li><a href="#pci">Data Security and PCI DSS</a></li>
								<li><a href="#3ds">3-D Secure</a></li>
								<li><a href="#dcc">Dynamic Currency Conversion</a></li>
								<li><a href="#version">Versioning</a></li>
								<li><a href="#pm-functions">Payment Method Features</a></li>
								<li><a href="#capture-batch">Capture and Daily Closing</a></li>
								<li><a href="#capture">Capture</a></li>
								<li><a href="#closing">Daily Closing</a></li>
								<li><a href="#special">Special Cases</a></li>
								<li><a href="#reservation">Reservation-Times</a></li>
							</ul>
							</li>
							<li>
							<a href="Interfaces.html">Licenses and Interfaces</a>
							<ul class="nav">
								<li><a href="#interfaces">The Interfaces</a></li>
								<li><a href="#int-paymentmethods">Supported Payment Methods</a></li>
								<li><a href="#int-what">What should i use?</a></li>
								<li><a href="#int-questions">Questions?</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_PP.html">Payment Page Interface</a>
							<ul class="nav">
								<li><a href="#pp-initialize">PaymentPage Initialize</a></li>
								<li><a href="#pp-initialize-response">PaymentPage Initialize Response</a></li>
								<li><a href="#pp-transaction">Redirect and Transaction</a></li>
								<li><a href="#pp-retshop">Return to the Shop</a></li>
								<li><a href="#pp-assert">PaymentPage Assert</a></li>
								<li><a href="#pp-captcancel">Capture or Cancel</a></li>
								<li><a href="#pp-demo">Try it!</a></li>
							</ul>
							</li>
							<li>
							<a href="Integration_trx.html">Transaction Interface</a>
							<ul class="nav">
								<li><a href="#trx-cc">Credit Cards</a></li>
								<li><a href="#trx-ini">Transaction Initialize</a></li>
								<li><a href="#trx-iframe">RedirectUrl inside iframe</a></li>
								<li><a href="#trx-3ds">3-D Secure and DCC</a></li>
								<li><a href="#trx-retshop">Return to the Shop</a></li>
								<li><a href="#trx-ta">Transaction Authorize</a></li>
								<li><a href="#trx-captcancel">Capture or Cancel</a></li>
								<li><a href="#trx-sepa">SEPA Direct Debit</a></li>
								<li><a href="#trx-demo">Try it!</a></li>
								<li><a href="#trx-post">Using your own HTML-Form</a></li>
							</ul>
							</li>
							<li class="active">
							<a href="scd.html">Secure Card Data</a>
							<ul class="nav">
								<li><a href="#scd-req">Requirements</a></li>
								<li><a href="#scd-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#scd-pp">Secure Card Data and the Payment Page</a></li>
								<li><a href="#scd-trx">Secure Card Data and the Transaction Interface</a></li>
								<li><a href="#scd-sa">Standalone Secure Card Data registration</a></li>
								<li><a href="#scd-demo">Try it!</a></li>
								<li><a href="#scd-generator">The Id-generator</a></li>
								<li><a href="#scd-check">The Check function</a></li>
								<li><a href="#scd-use">How to use the obtained data</a></li>
							</ul>
							</li>
							<li>
							<a href="recurring.html">Recurring Payments</a>
							<ul class="nav">
								<li><a href="#recurring-req">Requirements</a></li>
								<li><a href="#recurring-payment-methods">Supported Payment Methods</a></li>
								<li><a href="#recurring-referenced">Referenced  Transactions Method</a></li>
								<li><a href="#recurring-alias">Recurring Payments using an alias</a></li>
								<li><a href="#recurring-auto">Automating the Recurring Payments</a></li>
							</ul>
							</li>
							<li>
							<a href="refund.html">Refunds via API</a>
							<ul class="nav">
								<li><a href="#refund-req">Requirements</a></li>
								<li><a href="#refund-reference">Method 1: Refernced refunds</a></li>
								<li><a href="#refund-demo">Try it!</a></li>
								<li><a href="#refund-alias">Method 2: Refunds using an alias</a></li>
								<li><a href="#refund-capture">Capture</a></li>
								<li><a href="#refund-cancel">Difference, between Cancel and Refund</a></li>
								<li><a href="#refund-info">Additional information</a></li>
							</ul>
							</li>
							<li>
							<a href="app-integration.html">Mobile App integration</a>
							<ul class="nav">
								<li><a href="#mobile-process">Process</a></li>
								<li><a href="#mobile-faq">FAQ</a></li>
							</ul>
							</li>
							<li>
							<a href="CssiFrame.html">IFrame Integration and CSS</a>
							<ul class="nav">
								<li><a href="#css-iframe">Iframe Integration</a></li>
								<li><a href="#css-pp">Payment Page</a></li>
								<li><a href="#css-trxini">Transaction Initialize</a></li>
								<li><a href="#css-aliasins">Alias Insert</a></li>
								<li><a href="#css-iframe_size">Size of the Iframe</a></li>
								<li><a href="#css-usecss">Using CSS</a></li>
								<li><a href="#css-element">CSS Elements</a></li>
								<li><a href="#css-selector">CSS Selectors</a></li>
								<li><a href="#css-info">Additional Info</a></li>
							</ul>
							</li>
							<li>
							<a href="marketplace.html">Marketplace and Partial Captures</a>
							<ul class="nav">
								<li><a href="#pc-partial">Partial Captures</a></li>
								<li><a href="#pc-final">Finalizing a Capture-Chain</a></li>
								<li><a href="#pc-final-why">Why do you need to finalize a transaction?</a></li>
								<li><a href="#pc-submerchants">Submerchants</a></li>
								<li><a href="#pc-refunds">Handling Refunds</a></li>
								<li><a href="#pc-fee">Applying Fees</a></li>
							</ul>
							</li>
							<li>
							<a href="fraud_free.html">Fraud Free Service</a>
							<ul class="nav">
								<li><a href="#ff-response">API Response</a></li>
								<li><a href="#ff-status">Status Change</a></li>
								<li><a href="#ff-mandatory">Mandatory Data Points</a></li>
							</ul>
							</li>
							<li>
							<a href="faq.html">FAQ</a>
							</li>
							<li>
							<a href="paymentmeans.html">Payment means for testing</a>
							<ul class="nav">
								<li><a href="#pm-visa">VISA</a></li>
								<li><a href="#pm-mc">Mastercard</a></li>
								<li><a href="#pm-amex">American Express</a></li>
								<li><a href="#pm-diners">Diners Club</a></li>
								<li><a href="#pm-maestro">Maestro international</a></li>
								<li><a href="#pm-jcb">JCB</a></li>
								<li><a href="#pm-myone">My One</a></li>
								<li><a href="#pm-bonus">Bonus Card</a></li>
								<li><a href="#pm-bc">Bancontact</a></li>
								<li><a href="#pm-sepa">SEPA Direct Debit</a></li>
								<li><a href="#pm-paypal">PayPal</a></li>
								<li><a href="#pm-twint">TWINT</a></li>
								<li><a href="#ideal-cards">iDeal</a></li>
								<li><a href="#paydirekt-cards">paydirekt</a></li>
								<li><a href="#unionpay-cards">UnionPay</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Demo</h4></a>
							</li>
							<li>
							<a href="pp_demo.html">Payment Page</a>
							</li>
							<li>
							<a href="trx_demo.html">Transaction interface</a>
							</li>
							<li>
							<a href="scd_demo.html">Secure Card Data</a>
							</li>
							<li>
							<a href="refund_demo.html">Refunds</a>
							</li>
							<li>
								<a><h4>Payment Method specifics</h4></a>
							</li>
							<li>
							<a href="creditcards.html">Credit Cards</a>
							<ul class="nav">
								<li><a href="#cc-chase">Chase Paymentech</a></li>
							</ul>
							</li>
							<li>
							<a href="Masterpass.html">Masterpass</a>
							<ul class="nav">
								<li><a href="#mp-req">Requirements</a></li>
								<li><a href="#mp-pp">Masterpass via Payment Page</a></li>
								<li><a href="#mp-special">Special Cases</a></li>
							</ul>
							</li>
							<li>
							<a href="Twint.html">TWINT</a>
							<ul class="nav">
								<li><a href="#twint-requirement">Requirements</a></li>
								<li><a href="#twint-general">General specifics</a></li>
							</ul>
							</li>
							<li>
							<a href="PayPal.html">PayPal</a>
							<ul class="nav">
								<li><a href="#ppal-requirement">Requirements</a></li>
								<li><a href="#ppal-api-access">Grant API Approval for Saferpay</a></li>
								<li><a href="#ppal-merchant-protection">Seller Protection</a></li>
								<li><a href="#ppal-partial-capture">Partial Capture</a></li>
								<li><a href="#ppal-capture">Capture and the solvency of the customer</a></li>
								<li><a href="#ppal-iframe">PayPal iFrame integration</a></li>
								<li><a href="#ppal-special">Other special cases</a></li>
							</ul>
							</li>
							<li>
							<a href="BillPay.html">BillPay</a>
							<ul class="nav">
								<li><a href="#bp-requirement">Requirements</a></li>
								<li><a href="#bp-approval-api">BillPay Certification via API</a></li>
								<li><a href="#bp-assert">Assert</a></li>
								<li><a href="#bp-capt">Capture</a></li>
								<li><a href="#bp-approval-bo">BillPay Certification via Saferpay Backoffice</a></li>
							</ul>
							</li>
							<li>
							<a href="PostFinance.html">Swiss Postcard</a>
							<ul class="nav">
								<li><a href="#pf-requirement">Requirements</a></li>
								<li><a href="#pf-alias">Storage in the Secure Card Data Store</a></li>
								<li><a href="#pf-regdial">Registration Dialogue</a></li>
							</ul>
							</li>
							<li>
							<a href="sofort.html">SOFORT by Klarna</a>
							<ul class="nav">
								<li><a href="#sf-requirement">Requirements</a></li>
								<li><a href="#sf-newproject">Create a new project for SOFORT</a></li>
								<li><a href="#sf-iFrame">Sofort iFrame integration</a></li>
							</ul>
							</li>
							<li>
							<a href="eps.html">eps</a>
							<ul class="nav">
								<li><a href="#eps-requirement">Requirements</a></li>
								<li><a href="#eps-newproject">How toget an EPS acceptance agreement</a></li>
							</ul>
							</li>
							<li>
							<a href="paydirekt.html">paydirekt</a>
							<ul class="nav">
								<li><a href="#pd-requirement">Requirements</a></li>
								<li><a href="#pd-address">Handling of delivery address</a></li>
								<li><a href="#pd-pending">Display of pending status for bookings</a></li>
								<li><a href="#pd-note">Notification after change from pending to final status</a></li>
								<li><a href="#pd-query">Querying the transaction status</a></li>
								<li><a href="#pd-refund">Refunds</a></li>
							</ul>
							</li>
							<li>
							<a href="ideal.html">iDeal</a>
							<ul class="nav">
								<li><a href="#ideal-timeout">Session Timeouts</a></li>
							</ul>
							</li>
							<li>
								<a><h4>Additional Information</h4></a>
							</li>
							<li>
							<a href="contact.html">Contact</a>
							</li>
							<li>
							<a href="http://saferpay.github.io/jsonapi/" target="_blank">API Specification</a>
							</li>

					</ul>
				</div>

				
<section><h1>Secure Card Data</h1><div class="row"><div class="col-md-6"><p>Saferpay Secure Card Data, or SCD for short, is a service for saving sensitive payment data in the certified Saferpay data center. By using SCD, the payment data is separated from the merchant's application and thus no longer comes into contact with it. Secure Card Data is suitable for shop systems, call center solutions, inventory management, ERP and CRM systems in which stored payment data is required for future/deferred or recurring/instalments payments.</p><p>It provides the Hosted Register Form (HRF) to simply store/tokenize payment data regardless of any actual payment been made. For example, if a customer wants to add different payment options to his account so that he/she can decide which one to use during the actual payment process. Please read chapter <a href="https://saferpay.github.io/sndbx/CssiFrame.html#chapter-css-iframe"><strong>Iframe Integration and CSS</strong></a> for examples of the different payment forms.</p></div></div></section><section id="scd-req"><h2><a name="scd-req"></a> Requirements</h2><div class="row"><div class="col-md-6"><ul>
<li>A Saferpay Business contract</li>
<li>A License for Secure Card Data, which is usually included in Saferpay Business</li>
<li>An active terminal with active contracts for the desired brands</li>
</ul></div></div></section><section id="scd-payment-methods"><h3><a name="scd-payment-methods"></a> Supported Payment Methods</h3><div class="row"><div class="col-md-6"><ul>
<li>Visa</li>
<li>MasterCard</li>
<li>Maestro international</li>
<li>V PAY</li>
<li>American Express</li>
<li>MyOne</li>
<li>Diners Club</li>
<li>Bonus Card</li>
<li>Discover</li>
<li>JCB</li>
<li>PostFinance card (Please read the <a href="https://saferpay.github.io/sndbx/PostFinance.html#pf-alias">information over here</a>!)</li>
<li>SEPA ELV (Not via the Transaction Interface!)</li>
<li>Bancontact</li>
<li>Credit Cards over Masterpass</li>
</ul></div></div></section><section id="scd-pp"><h2><a name="scd-pp"></a> Secure Card Data and the Payment Page</h2><div class="row"><div class="col-md-6"><p>The Payment Page can be used to save a credit card, <strong>after a successful authorization</strong>!
In order to request an Alias with the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_PaymentPage_Assert">PaymentPage Assert</a>, you first need to set the <strong>RegisterAlias</strong> container within the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_PaymentPage_Initialize">PaymentPage Initialize request</a>.</p><pre><code class="language-json">{ 
&quot;RequestHeader&quot;: {
   &quot;SpecVersion&quot;: &quot;[CURRENT-SPEC-VERSION]&quot;,
   &quot;CustomerId&quot;: &quot;[your customer id]&quot;,
   &quot;RequestId&quot;: &quot;[unique request id]&quot;,
   &quot;RetryIndicator&quot;: 0
 },
 &quot;TerminalId&quot;: &quot;[your terminal id]&quot;,
 &quot;Payment&quot;: {
   &quot;Amount&quot;: {
     &quot;Value&quot;: &quot;100&quot;,
     &quot;CurrencyCode&quot;: &quot;CHF&quot;
   }
 },
 &quot;RegisterAlias&quot;: {
     &quot;IdGenerator&quot;: &quot;RANDOM&quot;
 },
 &quot;Payer&quot;: {
   &quot;LanguageCode&quot;: &quot;en&quot;
 },
 &quot;ReturnUrls&quot;: {
   &quot;Success&quot;: &quot;[your shop payment success url]&quot;,
   &quot;Fail&quot;: &quot;[your shop payment fail url]&quot;
 },
 &quot;Styling&quot;: {
   &quot;CssUrl&quot;: &quot;[your shop css url]&quot;
 }
}
</code></pre><div class="info">
  <p><strong>NOTE:</strong>The IdGenerator has multiple options to choose from. All of them will be explained later in this chapter!</p>
</div><p>Once a successful transaction has been made through the PaymentPage, you will get the result of the registration with the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_PaymentPage_Assert">PaymentPage Assert</a>(See <strong>&quot;RegistrationResult&quot;</strong>!):</p><pre><code class="language-json">{
  &quot;ResponseHeader&quot;: {
    &quot;SpecVersion&quot;: &quot;[CURRENT-SPEC-VERSION]&quot;,
    &quot;RequestId&quot;: &quot;[your request id]&quot;
  },
  &quot;Transaction&quot;: {
    &quot;Type&quot;: &quot;PAYMENT&quot;,
    &quot;Status&quot;: &quot;AUTHORIZED&quot;,
    &quot;Id&quot;: &quot;MUOGAWA9pKr6rAv5dUKIbAjrCGYA&quot;,
    &quot;Date&quot;: &quot;2017-06-18T09:19:27.078Z&quot;,
    &quot;Amount&quot;: {
      &quot;Value&quot;: &quot;100&quot;,
      &quot;CurrencyCode&quot;: &quot;CHF&quot;
    },
    &quot;AcquirerName&quot;: &quot;AcquirerName&quot;,
    &quot;AcquirerReference&quot;: &quot;Reference&quot;
  },
  &quot;RegistrationResult&quot;: {
    &quot;Success&quot;: true,
    &quot;Alias&quot;: {
      &quot;Id&quot;: &quot;alias35nfd9mkzfw0x57iwx&quot;,
      &quot;Lifetime&quot;: 1000
    }
  },
  &quot;PaymentMeans&quot;: {
    &quot;Brand&quot;: {
      &quot;PaymentMethod&quot;: &quot;SAFERPAYTEST&quot;,
      &quot;Name&quot;: &quot;SaferpayTestCard&quot;
    },
    &quot;DisplayText&quot;: &quot;9123 45xx xxxx 1234&quot;,
    &quot;Card&quot;: {
      &quot;MaskedNumber&quot;: &quot;912345xxxxxx1234&quot;,
      &quot;ExpYear&quot;: 2021,
      &quot;ExpMonth&quot;: 9,
      &quot;HolderName&quot;: &quot;Max Mustermann&quot;,
      &quot;CountryCode&quot;: &quot;CH&quot;
    }
  },
  &quot;Payer&quot;: {
    &quot;IpAddress&quot;: &quot;1.2.3.4&quot;,
    &quot;IpLocation&quot;: &quot;CH&quot;
  },
  &quot;ThreeDs&quot;: {
    &quot;Authenticated&quot;: true,
    &quot;LiabilityShift&quot;: true,
    &quot;Xid&quot;: &quot;ARkvCgk5Y1t/BDFFXkUPGX9DUgs=&quot;,
    &quot;VerificationValue&quot;: &quot;AAABBIIFmAAAAAAAAAAAAAAAAAA=&quot;
  }
}
</code></pre><div class="warning">
  <p><strong>Important:</strong>The Payment Page <strong>CAN NOT</strong> be used to authorize the obtained Alias! It can only register cards!</p>
</div></div></div></section><section id="scd-trx"><h2><a name="scd-trx"></a> Secure Card Data and the Transaction Interface</h2><div class="row"><div class="col-md-6"><p><a href="http://saferpay.github.io/jsonapi/#ChapterTransaction">The Transaction Interface</a> can also be used to obtain a Secure Card Data alias <strong>also after a successful authorization</strong>! The submitted Data is the same, as with the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_PaymentPage_Initialize">PaymentPage Initialize request</a>, but with <a href="http://saferpay.github.io/jsonapi/#ChapterTransaction">the Transaction Interface</a> you <strong>MUST NOT USE</strong> the <strong>RegisterAlias</strong> container within <a href="http://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Initialize">Transaction Initialize</a>. Here the registration actually is made with the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Authorize">Transaction Authorize request</a> (<strong>Remember:</strong> A registration is only made, if the Authorization is successful!), thus you have to submit the necessary data here:</p><pre><code class="language-json">{ 
&quot;RequestHeader&quot;: {
   &quot;SpecVersion&quot;: &quot;[CURRENT-SPEC-VERSION]&quot;,
   &quot;CustomerId&quot;: &quot;[your customer id]&quot;,
   &quot;RequestId&quot;: &quot;[unique request id]&quot;,
   &quot;RetryIndicator&quot;: 0
 },
 &quot;Token&quot;: &quot;sdu5ymxx210y2dz1ggig2ey0o&quot;,
 &quot;RegisterAlias&quot;: {
   &quot;IdGenerator&quot;: &quot;RANDOM&quot;
 }
}
</code></pre><div class="info">
  <p><strong>NOTE:</strong>The IdGenerator has multiple options to choose from. All of them will be explained later in this chapter!</p>
</div><p>Once a successful transaction has been made, you will get the result of the registration with the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Authorize">Transaction Authorize response</a> (See <strong>&quot;RegistrationResult&quot;</strong>!):</p><pre><code class="language-json">{
  &quot;ResponseHeader&quot;: {
    &quot;SpecVersion&quot;: &quot;[CURRENT-SPEC-VERSION]&quot;,
    &quot;RequestId&quot;: &quot;[your request id]&quot;
  },
  &quot;Transaction&quot;: {
    &quot;Type&quot;: &quot;PAYMENT&quot;,
    &quot;Status&quot;: &quot;AUTHORIZED&quot;,
    &quot;Id&quot;: &quot;MUOGAWA9pKr6rAv5dUKIbAjrCGYA&quot;,
    &quot;Date&quot;: &quot;2017-06-18T09:19:27.078Z&quot;,
    &quot;Amount&quot;: {
      &quot;Value&quot;: &quot;100&quot;,
      &quot;CurrencyCode&quot;: &quot;CHF&quot;
    },
    &quot;AcquirerName&quot;: &quot;AcquirerName&quot;,
    &quot;AcquirerReference&quot;: &quot;Reference&quot;
  },
  &quot;RegistrationResult&quot;: {
    &quot;Success&quot;: true,
    &quot;Alias&quot;: {
      &quot;Id&quot;: &quot;alias35nfd9mkzfw0x57iwx&quot;,
      &quot;Lifetime&quot;: 1000
    }
  },
  &quot;PaymentMeans&quot;: {
    &quot;Brand&quot;: {
      &quot;PaymentMethod&quot;: &quot;SAFERPAYTEST&quot;,
      &quot;Name&quot;: &quot;SaferpayTestCard&quot;
    },
    &quot;DisplayText&quot;: &quot;9123 45xx xxxx 1234&quot;,
    &quot;Card&quot;: {
      &quot;MaskedNumber&quot;: &quot;912345xxxxxx1234&quot;,
      &quot;ExpYear&quot;: 2021,
      &quot;ExpMonth&quot;: 9,
      &quot;HolderName&quot;: &quot;Max Mustermann&quot;,
      &quot;CountryCode&quot;: &quot;CH&quot;
    }
  },
  &quot;Payer&quot;: {
    &quot;IpAddress&quot;: &quot;1.2.3.4&quot;,
    &quot;IpLocation&quot;: &quot;CH&quot;
  },
  &quot;ThreeDs&quot;: {
    &quot;Authenticated&quot;: true,
    &quot;LiabilityShift&quot;: true,
    &quot;Xid&quot;: &quot;ARkvCgk5Y1t/BDFFXkUPGX9DUgs=&quot;,
    &quot;VerificationValue&quot;: &quot;AAABBIIFmAAAAAAAAAAAAAAAAAA=&quot;
  }
}
</code></pre><p>The obtained alias can then be used for subsequent payments, which will be explained later in this chapter!</p></div></div></section><section id="scd-sa"><h2><a name="scd-sa"></a> Standalone Secure Card Data registration</h2><div class="row"><div class="col-md-6"><p>All methods so far described, how a Secure Card Data alias can be obtained <strong>within the authorization process</strong>.
If you just want to register the card, but not authorize it, you need to use <a href="http://saferpay.github.io/jsonapi/#ChapterAliasStore">the Secure Alias Store</a>.</p><p>The process itself is very similar to the one using <a href="http://saferpay.github.io/jsonapi/#ChapterTransaction">the Transaction Interface</a>. <a href="http://saferpay.github.io/jsonapi/#ChapterAliasStore">The Secure Alias Store</a> has its own hosted card registration form, which can also be <a href="https://saferpay.github.io/sndbx/CssiFrame.html">integrated within an iFrame and styled via CSS</a>.
However there are two major differnces:</p><ul>
<li>As already mentioned, the card will only be saved, but not authorized!</li>
<li>Due to PCI restrictions, the CVC will not be obtained using this method!</li>
</ul><p>In order to open up the hosted Card Entry Form, you first need to execute the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_Alias_Insert">Alias Insert Request</a>.</p></div></div></section><section><h3>Here are a few hints and tips about the options that are available for the merchant:</h3><div class="row"><div class="col-md-6"><ul>
<li><strong>ReturnUrls:</strong> For security, Saferpay returns no data to return addresses of the shop. The identification of the payment or the returning customers is up to the merchant. We recommend using your own parameters. These can be attached via HTTP GET to the ReturnUrls. When a ReturnUrl is called, Saferpay returns the appended parameter, thus enabling identification of the customer.</li>
</ul></div></div></section><section><h3>In the Response of the Insert Request these parameters are import for further processing:</h3><div class="row"><div class="col-md-6"><ul>
<li><p><strong>Token:</strong> The Token is mandatory for further steps within the payment process and must therefore be cached. Preferably, it should be linked to the parameters attached to the ReturnUrls. It can thus be easily reassigned.</p>
</li>
<li><p><strong>RedirectUrl:</strong> Unlike with the Payment Page, this URL is not used for a redirect. Instead, it is embedded in an HTML Iframe. Within this, a form hosted by Saferpay is displayed. This form is also called the Hosted Entry Form. It can be used to capture sensitive card details in a PCI-compliant manner. You can find out more about the Iframe integration <a href="https://saferpay.github.io/sndbx/CssiFrame.html">in this chapter</a>.</p>
</li>
</ul></div></div></section><section><h3>Return to the Shop</h3><div class="row"><div class="col-md-6"><p>Once the registration is completed, the card holder &#8211; depending on the outcome &#8211; is taken back to one of the <strong>ReturnUrls</strong> of the shop. Here, the GET parameters can be read and the <strong>Token</strong> can be assigned to the registration.</p></div></div></section><section><h3>Obtaining the alias</h3><div class="row"><div class="col-md-6"><p>With the <strong>Token</strong>, the can be obtained, by submitting it through the <a href="http://saferpay.github.io/jsonapi/#Payment_v1_Alias_AssertInsert">Alias AssertInsert request</a>. The response will give you the alias itself and further information about the card itself, like the masked card number, or the holder name.</p></div></div></section><section id="scd-demo"><h2><a name="scd-demo"></a>Try it out!</h2><div class="row"><div class="col-md-6"><p><a class="demobtn" href="https://saferpay.github.io/sndbx/scd_demo.html">Click here for a live demo!</a></p></div></div></section><section id="scd-generator"><h2><a name="scd-generator"></a> The Id-generator</h2><div class="row"><div class="col-md-6"><p>The ID-generator is used to choose what kind of alias you want to recieve. Right now, there are three options to choose from:</p><ol>
<li><strong>MANUAL</strong>: Manual should be used, if you want to define an alias yourself. This is helpful, if the alias has to be in a specific format, like all numeric, or 16 characters long etc. You then have to supply the Id you want to use within the <strong>Id</strong> parameter. <div class="danger"><p><strong>Important:</strong>Make sure, that all your aliases are unique! Saferpay will only authorize the first card to come up inside the database, if there are multiple records with the same alias!</p></div></li>
<li><strong>RANDOM</strong>: This value will generate a random alpha numerical hash, as your alias-id, for you! No need to supply an id yourself!</li>
<li><strong>RANDOM_UNIQUE</strong>: Similar to <strong>RANDOM</strong>, it will create a random alpha numerical hash for you. The difference is, that it will check, if the card number (PAN) provided has already saved inside your alias store. If so, Saferpay will return the already existing alias, making sure, that no PAN can be saved twice or more!</li>
</ol></div></div></section><section id="scd-check"><h2><a name="scd-check"></a> The check-Function</h2><div class="row"><div class="col-md-6"><p>The Check function is used, to check, if an entered card connects to a valid account, or not, before the authorization itself.
However, you need to consider the following restrictions:</p><ol>
<li>The check-function is only available with the standalone registration, since the other options do said authorization!</li>
<li>The check-function <strong>does not</strong> check the solvency of the account. Only an authorization does!</li>
<li>The check-function is only available for VISA and Mastercard, over SIX Payment Services Acquiring contracts!</li>
</ol></div></div></section><section><h3>Request</h3><div class="row"><div class="col-md-6"><p>In order, to let a card get checked, you need to set the <strong>Check</strong>-container within the <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Alias_Insert">initial registration-request</a>.
You need to make sure, to provide a valid terminal Id, with activated acquiring-contracts for VISA and MasterCard.</p><pre><code class="language-json">{
  &quot;RequestHeader&quot;: {
    &quot;SpecVersion&quot;: &quot;[CURRENT-SPEC-VERSION]&quot;,
    &quot;CustomerId&quot;: &quot;[your customer id]&quot;,
    &quot;RequestId&quot;: &quot;[your request id]&quot;,
    &quot;RetryIndicator&quot;: 0,
    &quot;ClientInfo&quot;: {
      &quot;ShopInfo&quot;: &quot;My Shop&quot;,
      &quot;OsInfo&quot;: &quot;Windows Server 2013&quot;
    }
  },
  &quot;RegisterAlias&quot;: {
    &quot;IdGenerator&quot;: &quot;RANDOM_UNIQUE&quot;
  },
  &quot;Type&quot;: &quot;CARD&quot;,
  &quot;LanguageCode&quot;: &quot;en&quot;,
  &quot;ReturnUrls&quot;: {
    &quot;Success&quot;: &quot;[your shop payment success url]&quot;,
    &quot;Fail&quot;: &quot;[your shop payment fail url]&quot;
  },
  &quot;Check&quot;: {
    &quot;Type&quot;: &quot;ONLINE&quot;,
    &quot;TerminalId&quot;: &quot;[your terminal id]&quot;
  }
}
</code></pre></div></div></section><section><h3>Response</h3><div class="row"><div class="col-md-6"><p>If the check was successful, you will get a successful registration-response with the <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Alias_AssertInsert">Assert Insert</a>.
If the chek failed, the registration too will fail and you'll get an error-response:</p><pre><code class="language-json">{
    &quot;ResponseHeader&quot;: {
        &quot;SpecVersion&quot;: &quot;[CURRENT-SPEC-VERSION]&quot;,
        &quot;RequestId&quot;: &quot;55&quot;
    },
    &quot;Behavior&quot;: &quot;ABORT&quot;,
    &quot;ErrorName&quot;: &quot;CARD_CHECK_FAILED&quot;,
    &quot;ErrorMessage&quot;: &quot;Online card check failed&quot;,
    &quot;ErrorDetail&quot;: [
        &quot;online card check failed&quot;
    ]
}
</code></pre></div></div></section><section id="scd-use"><h2><a name="scd-use"></a> How to use the obtained data</h2><div class="row"><div class="col-md-6"><p>The obtained alias can be used in two basic ways, which boil down to one important question:</p><p><strong>Do you want to do a 3D Secure transaction?</strong></p><ul>
<li>If yes, then you have to use the <a href="https://saferpay.github.io/sndbx/Integration_trx.html">Transaction Interface</a>. The Hosted Form used there will not open up and instead proceed with the 3D Secure process right away.</li>
<li>If not, then you can use <a href="http://saferpay.github.io/jsonapi/#Payment_v1_Transaction_AuthorizeDirect">AuthorizeDirect</a> to authorize the card directly. This is especially intersting, if you want to <a href="https://saferpay.github.io/sndbx/recurring.html#recurring-alias">implement recurring payments, which are described over here</a>.</li>
</ul><div class="warning">
  <p><strong>NOTE:</strong> Bancontact only supports the former, while Maestro has some cards, that also are 3D Secure only!</p>
</div><div class="warning">
  <p><strong>NOTE:</strong> Every alias is bound to the CustomerId you provide with the registration-request. All Terminals bound to that id can use the aliases, but not other CustomerIds! There is no way to share the aliases between different CustomerIds</p>
</div></div></div></section>

			</main>

		</div>
	</div>

	<div class="scroll-top-wrapper">
		<a href="#top" class="scroll-top-inner" onclick="$('html,body').animate({ scrollTop: 0 }, 'slow'); return false;">
			<span class="glyphicon glyphicon-chevron-up"></span> Back to Top
		</a>
	</div>

	<script src="assets/js/vendors.js"></script>
	<script src="assets/js/helppage.js"></script>
</body>
</html>

